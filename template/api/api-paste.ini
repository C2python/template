[composite:template+basic]
use = egg:Paste#urlmap
/tcloud = template+tcloud
/ocloud = template+ocloud

[pipeline:template+tcloud]
pipeline = cors http_proxy_to_wsgi tcloudauth template_tp

[pipeline:template+ocloud]
pipeline = cors http_proxy_to_wsgi ocloudauth template_op

[app:template_tp]
paste.app_factory = template.api.app:app_factory
root = template.api.controller.tcloud_controller.TController

[app:template_op]
paste.app_factory = template.api.app:app_factory
root = template.api.controller.ocloud_controller.OController

[filter:cors]
paste.filter_factory =  oslo_middleware.cors:filter_factory
oslo_config_project = template

[filter:http_proxy_to_wsgi]
paste.filter_factory = oslo_middleware.http_proxy_to_wsgi:HTTPProxyToWSGI.factory
oslo_config_project = template

[filter:tcloudauth]
paste.filter_factory = template.api.auth.tauth:filter_factory
oslo_config_project = template

[filter:ocloudauth]
paste.filter_factory = template.api.auth.oauth:filter_factory
oslo_config_project = template